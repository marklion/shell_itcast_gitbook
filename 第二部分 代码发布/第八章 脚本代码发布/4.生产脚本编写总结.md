## 8.4 生产脚本编写总结

1. 简单脚本编写总结
 - 手工执行的命令一定要可执行
 - 命令简单罗列
 - 固定的内容变量化
 - 功能函数化
2. 复杂脚本编写总结
	- 手工执行的命令一定要可执行
	- 根据发布流程编写脚本的框架
	- 将手工执行的命令填充到对应的框架函数内部
	- 增加日志功能，方便跟踪脚本历史执行记录
	- 主函数中逻辑流程控制好
	- 设计安全的方面：
    - 增加锁文件，保证代码发布的过程中不受干扰，
    - 输入参数数量
    - 输入参数匹配
    - 脚本帮助信息
	- 调试脚本
3. 注意事项：
	- 命令一定要保证能正常执行
	- 成对的符号，要成对写，避免丢失
	- 函数调用，写好函数后，一定要在主函数中进行调用
	- 避免符号出现中文
	- 命令变量的写法一定要规范
	- 固定的内容一定要变量实现，方便以后更改
	- 日志的输出
	- 脚本的传参和函数的传参要区别对待

### 内容小结：
1. 生产简单脚本的编写流程
命令可执行-命令罗列-内容变量-功能函数-远程执行
2. 生产大型脚本的编写流程
脚本框架-命令填充-安全完善
3. 大型脚本的安全功能完善
由内到外：功能安全-流程安全
4. 掌握 脚本调试方法
语法-n ，追踪-x
